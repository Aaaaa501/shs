var calendar={};$(function(){setDays();showMonth()});function getCurrentDate(){var a=window.location.search.indexOf("currentDate=");a=-1<a?window.location.search.substring(a+12):Date.now();return new Date(parseInt(a))}
function showMonth(a,b){var d=getCurrentDate();a=void 0===a?d.getMonth():a;b=void 0===b?d.getFullYear():b;for(var e=new Date(b,a),f=[],c=1;c<=constants.daysInMonth[e.getMonth()];c++)e.setDate(c),e.getDay()%6&&f.push({date:c,day:e.getDay(),event:getEvent(e)});$("#tile-cal-header .month").text("January February March April May June July August September October November December".split(" ")[a]+" "+b);$(".tile-cal").html("");e=f[0].day-1;for(c=0;c<f.length;c++)$(".tile-cal:eq("+(c+e)+")").html("<div class='date'><span"+
(b==d.getFullYear()&&a==d.getMonth()&&f[c].date==d.getDate()?" class='today'>":">")+f[c].date+"</span></div><div class='event'>"+f[c].event+"</div>");calendar.month=a;calendar.year=b}function getEvent(a){a=a.toLocaleDateString();if(-1<constants.holidays.indexOf(a))return"No School";var b=constants.calendar_events.indexOf(a);if(-1<b)return constants.calendar_event_names[b];for(var d in constants.dates)if(-1<constants.dates[d].indexOf(a))return d;return""}
function next(){11<=calendar.month?showMonth(0,calendar.year+1):showMonth(calendar.month+1,calendar.year)}function previous(){0>=calendar.month?showMonth(11,calendar.year-1):showMonth(calendar.month-1,calendar.year)}$("#next").click(next);$("#previous").click(previous);$(document).keydown(function(a){37==a.which?previous():39==a.which&&next()});
function setDays(){var a=["Monday","Tuesday","Wednesday","Thursday","Friday"];$(".tile-cal-head").each(function(b){b=768>window.innerWidth?a[b].substr(0,3):a[b];$(this).text(b)})}$(window).resize(setDays);
